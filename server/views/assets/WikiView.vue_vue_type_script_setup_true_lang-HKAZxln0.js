import{importShared as s,__tla as R}from"./__federation_fn_import-ofDdBDNE.js";import{u as X,_ as Y,w as $,__tla as Z}from"./wikiProvider-C6qTA6Yc.js";import{_ as F,a as ee,b as te,__tla as ae}from"./WikiEdit.vue_vue_type_script_setup_true_lang-CordzRVt.js";import{_ as re,__tla as le}from"./SideBar.vue_vue_type_script_setup_true_lang-CS2i_i5T.js";let U,ne=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return le}catch{}})()]).then(async()=>{let V,N,u,d,c,g,a,f,w,r,b,l,C,S,q,B,E,I,M,n,z,h,T,O,k,P,W,D,H,J;({defineComponent:V}=await s("vue")),{unref:N,toDisplayString:u,createTextVNode:d,withCtx:c,createVNode:g,openBlock:a,createBlock:f,createCommentVNode:w,createElementVNode:r,withModifiers:b,createElementBlock:l}=await s("vue"),C={class:"p-6 border rounded-lg bg-white border-gray-300 dark:bg-gray-900 dark:border-gray-600 dark:text-white"},S={key:0},q={key:0,class:"mt-4 wiki-editor"},B={class:"mt-2 space-x-2"},E={key:1,class:"wiki-display"},I=["innerHTML"],M={key:1},{ref:n,computed:z,watchEffect:h}=await s("vue"),T=V({__name:"Main",props:{query:String},setup(p){const v=p,{wiki:m,setPage:L,editPage:A}=X(),j=n(null),x=n(!1),y=n(""),_=n(""),o=n(""),G=()=>{x.value=!0},K=()=>{x.value=!1},Q=async()=>{var t;try{const e=new FormData(j.value??void 0);e.append("title",(t=m.value)==null?void 0:t.title),e.append("content",JSON.stringify(o.value));const i=await A(e);y.value="Wiki content was saved successfully!"}catch(e){console.error(e),_.value=e.response.data}};return h(async()=>{var t;await L((t=v.query)==null?void 0:t.page)}),h(async()=>{var t;y.value="",_.value="",o.value=JSON.parse(((t=m.value)==null?void 0:t.content)||"{}")}),(t,e)=>(a(),l("div",C,[g(Y,null,{default:c(()=>{var i;return[d(u((i=N(m))==null?void 0:i.title),1)]}),_:1}),o.value.length?(a(),l("div",S,[x.value?(a(),l("div",q,[y.value?(a(),f(F,{key:0,color:"green"},{default:c(()=>[d(u(y.value),1)]),_:1})):w("",!0),_.value?(a(),f(F,{key:1,color:"red"},{default:c(()=>[d(u(_.value),1)]),_:1})):w("",!0),r("form",{ref_key:"form",ref:j,onSubmit:b(Q,["prevent"]),class:"w-full bg-white-500"},[g(ee,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i)},null,8,["modelValue"]),r("div",B,[e[1]||(e[1]=r("button",{type:"submit",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white"}," Save ",-1)),r("button",{type:"button",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-gray-500 hover:bg-gray-600 text-white",onClick:b(K,["prevent"])}," Cancel ")])],544)])):(a(),l("div",E,[r("div",{innerHTML:o.value,className:"mt-4 custom-editor"},null,8,I),r("button",{class:"mt-4 px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white",onClick:G}," Edit the Wiki ")]))])):(a(),l("span",M," There is no content available "))]))}}),{defineComponent:O}=await s("vue"),{createVNode:k,createElementVNode:P,withCtx:W,openBlock:D,createBlock:H}=await s("vue"),J={class:"w-full mr-4"},U=O({__name:"WikiView",props:{parentId:String,query:Object},setup(p){const v=p;return $(v.parentId),(m,L)=>(D(),H(te,null,{default:W(()=>[P("div",J,[k(T,{query:p.query},null,8,["query"])]),k(re,{parentId:v.parentId},null,8,["parentId"])]),_:1}))}})});export{U as _,ne as __tla};
